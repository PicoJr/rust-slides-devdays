<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Rust Introduction Devdays 2024</title>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/white.css">
        <link rel="stylesheet" href="css/rust.css">
        <link rel="stylesheet" type="text/css" href="plugin/asciinema/asciinema-player.css" />

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
                    <h3><font class="rust-accent"><b>Rust</b></font>, why the <font class="rust-hype"><b>hype?</b></font></h3>
                    <p>
                        <img data-src="res/rust_programming_language_logo.png" height="100">
                    </p>
                </section>

                <section>
                    <section>
                       <h1>What is Rust?</h1>
                        <ul>
                            <li>
                                System programming language (like C++)
                            </li>
                            <li>
                                <font>Safe</font>, 
                                <font>concurrent</font> and 
                                <font>fast</font>
                            </li>
                        <li>
                            Compiled, without runtime
                        </li>
                        <li>
                            Static strong typing
                        </li>
                        <pre><code data-trim class="rust">
                            fn main() {
                                println!("Hello developer's day");
                            }
                        </code></pre>
                    </section>
                    <section>
                        <h3>A brief history of Rust</h3>
                        <img data-src="res/timeline.png" height="100%">
                    </section>
                </section>

				<section>
                    <h1>Why the hype?</h1>
                    <p>Most loved programming language since 2016</p>
                    <ul>
                        <li><font class="rust-accent"><b>Modern</b></font> language & toolchain</li>
                        <li><font class="rust-accent"><b>Fast</b></font> + <font class="rust-accent"><b>safe</b></font> (memory & thread safety)</li>
                        <li>The <font class="rust-accent"><b>compiler</b></font> is your <s>friend</s> <font class="rust-accent"><b>mentor</b></font></li>
                    </ul>
                </section>
                <section>
                    <h1>Rust toolchain</h1>
                    <ul>
                        <li>
                            <a href="https://rustup.rs/"><font class="rust-accent"><b>rustup</b></font></a> Rust toolchain installer
                        </li>
                        <li>
                            <a href="https://doc.rust-lang.org/cargo/"><font class="rust-accent"><b>cargo</b></font></a> Rust package manager & more
                        </li>
                        <li>
                            <a href="https://doc.rust-lang.org/rustc/index.html"><font class="rust-accent"><b>rustc</b></font></a> Rust compiler (LLVM)</li>
                        <li>
                            <a href="https://github.com/rust-lang/rustfmt"><font class="rust-accent"><b>rustfmt</b></font></a> Rust code formatter
                        </li>
                        <li>
                            <a href="https://doc.rust-lang.org/rustdoc/index.html"><font class="rust-accent"><b>rustdoc</b></font></a> Rust doc generation
                        </li>
                        <li>
                            <a href="https://github.com/rust-lang/rust-clippy"><font class="rust-accent"><b>clippy</b></font></a> Rust code linter (like pylint, ruff, ...)
                        </li>
                        <li>
                            <a href="https://rust-analyzer.github.io/"><font class="rust-accent"><b>rust-analyzer</b></font></a> Rust LSP implementation (IDE backend)
                        </li>
                    </ul>
                </section>
                <section>
                    <h3>Rust unique concepts</h3>
                    <ul>
                        <li>
                            <font class="rust-accent"><b>Ownership & borrowing</b></font> (who owns/shares the data)
                        </li>
                        <li>
                            <font class="rust-accent"><b>Lifetime</b></font> (how long the data lives)
                        </li>
                        <li>
                            Checked by the compiler (compile time)
                        </li>
                        <li>
                            ...
                        </li>
                    </ul>
                </section>
                <section>
                    <section>
                        <h4>Ownership & Borrowing</h4>
                        <pre class="stretch"><code data-trim class="rust">
                        struct Book;

                        fn read_book(book: &Book) {
                            // gain non mutable access to `book`
                            // and give it back (borrow it)
                        }
                        
                        fn sign_book(book: &mut Book) {
                            // gain exclusive mutable access to `book`
                            // and give it back (borrow it)
                        }
                        
                        fn destroy_book(book: Book) {
                            // become the new owner of `book` (own it)
                        } // here book is destroyed
                        </code></pre>
                    </section>
                    <section>
                        <h4>Lifetimes, behind the scene</h4>
                        <pre><code data-trim class="rust">
                        fn main() {
                            let dangling;                // --------+- 'a
                            {                            //         |
                                let local = 42;          // -+- 'b  |
                                dangling = &local;       //  |      |
                            }                            // -+      |
                            println!("{}", *dangling);   //         |
                        }                                // --------+
                        </code></pre>
                    </section>
                </section>
                <section>
                    <section>
                        <h4>Example: Preventing dangling pointer</h4>
                        <pre><code data-trim class="rust" data-line-numbers="1-9|3|5|6|4-7|8">
                        fn main() {
                            let dangling;
                            {
                                let local = 42;
                                dangling = &local;
                            }
                            println!("this is not fine: {}", *dangling);
                        }
                        </code></pre>
                        <pre><code data-trim class="cpp">
                        // cpp
                        int main() {
                            int *dangling;
                            {
                                int local = 42;
                                dangling = &local;
                            }
                            std::cout << "this is not fine: "<< *dangling << std::endl;
                            return 0;
                        }
                        </code></pre>
                    </section>
                    <section>
                        <h3>What does the compiler say?</h3>
                        <pre><code data-trim class="rust">
                        fn main() {
                            let dangling;
                            {
                                let local = 42;
                                dangling = &local;
                            }
                            println!("this is not fine: {}", *dangling);
                        }
                        </code></pre>
                        <p class="fragment">
                        <img data-src="res/dangling_pointer_cargo.png" height="100%">
                        </p>
                    </section>
                    <section>
                        <h3>What does your IDE say?</h3>
                        <div class="r-stack">
                        <p class="fragment"><img data-src="res/dangling_pointer_rust_analyzer_1.png" width="100%"></p>
                        <p class="fragment"><img data-src="res/dangling_pointer_rust_analyzer_2.png" width="100%"></p>
                        <p class="fragment"><img data-src="res/dangling_pointer_rust_analyzer_3.png" width="100%"></p>
                        </div>
                    </section>
                </section>
                <section>
                    <section>
                        <h3>Rayon</h3>
                        <pre><code data-trim class="rust">
                        use rayon::prelude::*;
                        fn sum_of_squares(input: &[i32]) -> i32 {
                            input
                                .par_iter() // <-- just change that!
                                .map(|&i| i * i)
                                .sum()
                        }

                        fn main() {
                            println!(
                                "sum of squares: {}",
                                sum_of_squares(vec![1, 2, 3, 4, 5, 6].as_slice())
                            )
                        }
                        </code></pre>
                        <a href="https://github.com/rayon-rs/rayon"><font class="rust-accent"><b>Rayon</b></font></a> Data parallelism library for Rust
                    </section>
                    <section>
                          <div id="demo" height="1024px"></div>
                    </section>
                </section>
                <section>
                    <h3>Rust showcase</h3>
                    <ul>
                        <li>
                            <a href="https://servo.org"><font class="rust-accent"><b>Servo</b></font></a> Web rendering engine
                        </li>
                        <li>
                            <a href="https://github.com/alacritty/alacritty"><font class="rust-accent"><b>Alacritty</b></font></a> Terminal emulator
                        </li>
                        <li>
                            <a href="https://github.com/rustls/rustls"><font class="rust-accent"><b>Rustls</b></font></a> Cryptographic library
                        </li>
                        <li>
                            <a href="https://github.com/BurntSushi/ripgrep"><font class="rust-accent"><b>Ripgrep</b></font></a> User-friendly and fast grep alternative
                        </li>
                        <li>
                            <a href="https://github.com/pola-rs/polars"><font class="rust-accent"><b>Polars</b></font></a> Dataframe library (Python/Rust)
                        </li>
                        <li>
                            <a href="https://github.com/astral-sh/ruff"><font class="rust-accent"><b>Ruff</b></font></a> Python linter (10-100x faster than other linters)
                        </li>
                        <li>
                            <a href="https://github.com/dropbox/rust-brotli"><font class="rust-accent"><b>Brotli</b></font></a> Compression lib (<a href="https://dropbox.tech/infrastructure/-broccoli--syncing-faster-by-syncing-less">developed by dropbox</a>)
                        </li>
                        <li>
                            <a href="https://github.com/tokio-rs/tokio"><font class="rust-accent"><b>Tokio</b></font></a> Async runtime (<a href="https://discord.com/blog/why-discord-is-switching-from-go-to-rust">used by Discord for backend</a>)
                        </li>
                        <li>
                            <a href="https://github.com/nim65s/RobotS"><font class="rust-accent"><b>RobotS</b></font></a> Cit√© de l'espace demo rovers (<a href="https://www.youtube.com/watch?v=1-TDT7pREOg">video</a>)
                        </li>
                        <li>
                            <a href="https://asahilinux.org/"><font class="rust-accent"><b>Asahi</b></font></a> Apple M1 GPU driver (not by Apple...)
                        </li>
                        <li>
                            <a href="https://github.com/tree-sitter/tree-sitter"><font class="rust-accent"><b>Treesitter</b></font></a> Incremental parsing system for programming tool
                        </li>
                    </ul>
                </section>
                <section>
                    <h1>Questions?</h1>
                    <img data-src="res/ferris.gif" height="100%">
                    <small>
                        <p><a href="https://www.rustacean.net/">Ferris: Rust unofficial mascot</a></p>
                        <p>animation by A. L. Palmer (Rust Fest Berlin 2016)</p>
                    </small>
                </section>
			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
        <script src="plugin/asciinema/asciinema-player.min.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,
                slideNumber: 'c/t',

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			}).then(
                () => {
            const player = AsciinemaPlayer.create('res/redacted_demo_rayon.cast', document.getElementById('demo'), {
                  speed: 1,
                  idleTimeLimit: 1,
                  preload: true,
                  poster: "npt:26",
                  markers: [
                    [3.0,   "cargo new"],  // time in seconds + label
                    [9.0,   "cargo add"],
                    [13.0,   "rayon installed"],
                    [20.0,   "cargo build"],
                    [26.0,   "cargo run"],
                  ]
                });
            });
		</script>
	</body>
</html>
